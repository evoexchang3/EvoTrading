# ============================================
# TRADING PLATFORM - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# See README.md Security Notes for deployment guidance

# ============================================
# DATABASE (REQUIRED)
# ============================================
# PostgreSQL connection string (shared with CRM system)
# Format: postgresql://username:password@host:port/database?sslmode=require
DATABASE_URL=

# ============================================
# AUTHENTICATION (REQUIRED)
# ============================================
# JWT secrets for signing access and refresh tokens
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# These must be kept secret and rotated periodically
JWT_ACCESS_SECRET=
JWT_REFRESH_SECRET=

# ============================================
# WEBHOOK INTEGRATION (REQUIRED)
# ============================================
# HMAC-SHA256 secret for signing webhooks to CRM
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Must match the secret configured in the CRM system
WEBHOOK_SECRET=

# CRM system base URL for webhook delivery
# Example: https://crm.example.com/api
CRM_BASE_URL=

# Bearer token for authenticating with CRM service API
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CRM_SERVICE_TOKEN=

# ============================================
# MARKET DATA PROVIDERS (OPTIONAL)
# ============================================
# Twelve Data API key for forex, crypto, and commodities data
# Get your key at: https://twelvedata.com/
TWELVEDATA_API_KEY=

# Marketaux API key for financial news
# Get your key at: https://www.marketaux.com/
MARKETAUX_API_KEY=

# EODHD API key for economic calendar events
# Get your key at: https://eodhd.com/
EODHD_API_KEY=

# ============================================
# SERVER CONFIGURATION (OPTIONAL)
# ============================================
# Port to bind the HTTP server (default: 5000)
PORT=5000

# Node environment: development | production | test
NODE_ENV=production

# Log output format: json | pretty (default: plain text)
LOG_FORMAT=

# ============================================
# SECURITY (OPTIONAL)
# ============================================
# CORS allowed origins (comma-separated list)
# Example: https://app.example.com,https://admin.example.com
# Leave empty for strict deny-by-default
CORS_ALLOWED_ORIGINS=

# Rate limiting - maximum requests per window
RATE_LIMIT_MAX=100

# Rate limiting - time window in milliseconds (default: 15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000

# Webhook timestamp tolerance in seconds (for replay attack prevention)
# Only used if timestamped webhooks are enabled
WEBHOOK_TOLERANCE_SEC=300

# ============================================
# FRONTEND CONFIGURATION (OPTIONAL)
# ============================================
# Phone protocol for click-to-dial functionality
# Options: tel | zoiper | callto | sip
# Default: tel (standard phone protocol, backward compatible)
# - tel: Standard phone protocol (default - shows OS dialog)
# - zoiper: Direct integration with Zoiper softphone (recommended for VoIP)
# - callto: Generic VoIP protocol (may conflict with Skype/FaceTime)
# - sip: SIP protocol for enterprise VoIP systems
# Uncomment and set to 'zoiper' for direct Zoiper integration:
#VITE_PHONE_PROTOCOL=zoiper

# ============================================
# LEGACY / DEPRECATED (DO NOT USE)
# ============================================
# SITE_WEBHOOK_SECRET - deprecated, use WEBHOOK_SECRET instead
# This variable is only checked if WEBHOOK_SECRET is not set
# A warning will be logged if this is used
